INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.event:Update id=191007587 is handled. Duration 84 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007586 is handled. Duration 7392 ms by bot id=5771726025
INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.event:Update id=191007588 is handled. Duration 7382 ms by bot id=5771726025
INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.event:Update id=191007589 is handled. Duration 7526 ms by bot id=5771726025
INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.event:Update id=191007590 is handled. Duration 7330 ms by bot id=5771726025
INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.event:Update id=191007591 is handled. Duration 259 ms by bot id=5771726025
INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.event:Update id=191007592 is not handled. Duration 0 ms by bot id=5771726025
ERROR:aiogram.event:Cause exception while process update id=191007592 by bot id=5771726025
TypeError: Userware.__init__() takes 1 positional argument but 2 were given
Traceback (most recent call last):
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\fsm\middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "d:\Shitdump\githubstuff\millionairebot\simplifiedscambot.py", line 71, in cmd_start
    form_router.message.middleware(Userware(msg))
                                   ~~~~~~~~^^^^^
TypeError: Userware.__init__() takes 1 positional argument but 2 were given
INFO:aiogram.event:Update id=191007593 is not handled. Duration 0 ms by bot id=5771726025
ERROR:aiogram.event:Cause exception while process update id=191007593 by bot id=5771726025
TypeError: Userware.__init__() takes 1 positional argument but 2 were given
Traceback (most recent call last):
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\fsm\middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "d:\Shitdump\githubstuff\millionairebot\simplifiedscambot.py", line 71, in cmd_start
    form_router.message.middleware(Userware(msg))
                                   ~~~~~~~~^^^^^
TypeError: Userware.__init__() takes 1 positional argument but 2 were given
INFO:aiogram.dispatcher:Polling stopped
INFO:aiogram.dispatcher:Polling stopped for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.event:Update id=191007594 is not handled. Duration 169 ms by bot id=5771726025
ERROR:aiogram.event:Cause exception while process update id=191007594 by bot id=5771726025
TypeError: Userware.__init__() takes 1 positional argument but 2 were given
Traceback (most recent call last):
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\fsm\middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "d:\Shitdump\githubstuff\millionairebot\simplifiedscambot.py", line 81, in cmd_start
    print(Userware(msg).username)
          ~~~~~~~~^^^^^
TypeError: Userware.__init__() takes 1 positional argument but 2 were given
INFO:aiogram.dispatcher:Polling stopped
INFO:aiogram.dispatcher:Polling stopped for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.event:Update id=191007595 is handled. Duration 7360 ms by bot id=5771726025
INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.event:Update id=191007596 is not handled. Duration 1 ms by bot id=5771726025
ERROR:aiogram.event:Cause exception while process update id=191007596 by bot id=5771726025
TypeError: cmd_start() missing 1 required positional argument: 'data'
Traceback (most recent call last):
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\fsm\middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\Shitdump\githubstuff\millionairebot\bot\middlewares.py", line 18, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
                 ~~~~~~~^^
TypeError: cmd_start() missing 1 required positional argument: 'data'
INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.event:Update id=191007597 is not handled. Duration 0 ms by bot id=5771726025
ERROR:aiogram.event:Cause exception while process update id=191007597 by bot id=5771726025
TypeError: cmd_start() missing 1 required positional argument: 'data'
Traceback (most recent call last):
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\fsm\middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\Shitdump\githubstuff\millionairebot\bot\middlewares.py", line 18, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
                 ~~~~~~~^^
TypeError: cmd_start() missing 1 required positional argument: 'data'
INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.event:Update id=191007598 is not handled. Duration 0 ms by bot id=5771726025
ERROR:aiogram.event:Cause exception while process update id=191007598 by bot id=5771726025
TypeError: cmd_start() missing 1 required positional argument: 'data'
Traceback (most recent call last):
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\fsm\middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
                 ~~~~~~~^^
TypeError: cmd_start() missing 1 required positional argument: 'data'
INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.event:Update id=191007599 is not handled. Duration 0 ms by bot id=5771726025
ERROR:aiogram.event:Cause exception while process update id=191007599 by bot id=5771726025
TypeError: cmd_start() missing 1 required positional argument: 'data'
Traceback (most recent call last):
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\fsm\middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Shitdump\githubstuff\millionairebot\.venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
                 ~~~~~~~^^
TypeError: cmd_start() missing 1 required positional argument: 'data'
INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.event:Update id=191007600 is handled. Duration 7479 ms by bot id=5771726025
INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.event:Update id=191007601 is handled. Duration 7537 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007602 is handled. Duration 5453 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007603 is handled. Duration 142 ms by bot id=5771726025
INFO:__main__:vikdem37 lost the game on round 1 at 2025-07-17 10:08:36
INFO:aiogram.event:Update id=191007604 is handled. Duration 1552 ms by bot id=5771726025
INFO:aiogram.dispatcher:Polling stopped
INFO:aiogram.dispatcher:Polling stopped for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.event:Update id=191007605 is handled. Duration 7363 ms by bot id=5771726025
INFO:aiogram.dispatcher:Polling stopped
INFO:aiogram.dispatcher:Polling stopped for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.event:Update id=191007606 is handled. Duration 7372 ms by bot id=5771726025
INFO:aiogram.dispatcher:Polling stopped
INFO:aiogram.dispatcher:Polling stopped for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.dispatcher:Polling stopped
INFO:aiogram.event:Update id=191007607 is not handled. Duration 6733 ms by bot id=5771726025
INFO:aiogram.dispatcher:Polling stopped for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.event:Update id=191007608 is handled. Duration 7544 ms by bot id=5771726025
INFO:aiogram.dispatcher:Polling stopped
INFO:aiogram.dispatcher:Polling stopped for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
ERROR:__main__:Photo stall detected: name 'photo' is not defined
INFO:aiogram.event:Update id=191007610 is handled. Duration 5590 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007611 is handled. Duration 3507 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007612 is handled. Duration 3287 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007613 is handled. Duration 3254 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007614 is handled. Duration 3176 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007615 is handled. Duration 3281 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007616 is handled. Duration 3182 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007617 is handled. Duration 3478 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007618 is handled. Duration 3210 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007619 is handled. Duration 3185 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007620 is handled. Duration 3231 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007621 is handled. Duration 3366 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007622 is handled. Duration 3197 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007623 is handled. Duration 7383 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007624 is handled. Duration 5461 ms by bot id=5771726025
INFO:__main__:vikdem37 won the game at 2025-07-17 10:19:19
INFO:aiogram.event:Update id=191007625 is handled. Duration 1201 ms by bot id=5771726025
INFO:aiogram.dispatcher:Polling stopped
INFO:aiogram.dispatcher:Polling stopped for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.event:Update id=191007626 is handled. Duration 124 ms by bot id=5771726025
INFO:aiogram.dispatcher:Polling stopped
INFO:aiogram.dispatcher:Polling stopped for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.event:Update id=191007627 is handled. Duration 221 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007628 is handled. Duration 61 ms by bot id=5771726025
INFO:aiogram.dispatcher:Polling stopped
INFO:aiogram.dispatcher:Polling stopped for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.event:Update id=191007629 is handled. Duration 213 ms by bot id=5771726025
INFO:aiogram.dispatcher:Polling stopped
INFO:aiogram.dispatcher:Polling stopped for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.event:Update id=191007630 is handled. Duration 164 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007631 is handled. Duration 7294 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007632 is handled. Duration 5314 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007633 is handled. Duration 3197 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007634 is handled. Duration 3186 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007635 is handled. Duration 3205 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007636 is handled. Duration 3259 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007637 is handled. Duration 3291 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007638 is handled. Duration 3219 ms by bot id=5771726025
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 429 Too Many Requests"
INFO:openai._base_client:Retrying request to /responses in 0.469836 seconds
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 429 Too Many Requests"
INFO:openai._base_client:Retrying request to /responses in 0.937427 seconds
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 429 Too Many Requests"
ERROR:__main__:Phone a friend AI error raised: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
INFO:aiogram.event:Update id=191007639 is handled. Duration 28453 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007640 is handled. Duration 3254 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007641 is handled. Duration 3508 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007642 is handled. Duration 3205 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007643 is handled. Duration 135 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007644 is handled. Duration 3256 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007645 is handled. Duration 3227 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007646 is handled. Duration 3222 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007647 is handled. Duration 7344 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007648 is handled. Duration 5223 ms by bot id=5771726025
INFO:__main__:vikdem37 won the game at 2025-07-17 18:01:56
INFO:aiogram.event:Update id=191007649 is handled. Duration 1283 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007650 is handled. Duration 154 ms by bot id=5771726025
INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.event:Update id=191007651 is handled. Duration 207 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007653 is handled. Duration 5389 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007652 is handled. Duration 7317 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007654 is handled. Duration 3204 ms by bot id=5771726025
INFO:bot.game:vikdem37 lost the game on round 2 at 2025-07-17 18:14:14
INFO:aiogram.event:Update id=191007655 is handled. Duration 1422 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007656 is handled. Duration 3424 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007657 is handled. Duration 3213 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007658 is handled. Duration 3440 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007659 is handled. Duration 3434 ms by bot id=5771726025
INFO:bot.game:vikdem37 lost the game on round 4 at 2025-07-17 18:17:51
INFO:aiogram.event:Update id=191007660 is handled. Duration 1493 ms by bot id=5771726025
INFO:aiogram.dispatcher:Polling stopped
INFO:aiogram.dispatcher:Polling stopped for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.event:Update id=191007661 is handled. Duration 328 ms by bot id=5771726025
INFO:aiogram.dispatcher:Polling stopped
INFO:aiogram.dispatcher:Polling stopped for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.event:Update id=191007662 is handled. Duration 166 ms by bot id=5771726025
INFO:aiogram.dispatcher:Polling stopped
INFO:aiogram.dispatcher:Polling stopped for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.event:Update id=191007663 is handled. Duration 195 ms by bot id=5771726025
INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 1.511522 seconds and try again... (tryings = 1, bot id = 5771726025)
INFO:aiogram.dispatcher:Connection established (tryings = 2, bot id = 5771726025)
INFO:aiogram.event:Update id=191007664 is handled. Duration 109 ms by bot id=5771726025
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 1.293509 seconds and try again... (tryings = 1, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 1.740245 seconds and try again... (tryings = 2, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 1.291070 seconds and try again... (tryings = 1, bot id = 5771726025)
INFO:aiogram.dispatcher:Connection established (tryings = 2, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 2.302977 seconds and try again... (tryings = 3, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 5771726025)
INFO:aiogram.event:Update id=191007665 is handled. Duration 7552 ms by bot id=5771726025
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 2.915094 seconds and try again... (tryings = 4, bot id = 5771726025)
INFO:aiogram.event:Update id=191007666 is handled. Duration 5398 ms by bot id=5771726025
INFO:aiogram.dispatcher:Connection established (tryings = 1, bot id = 5771726025)
INFO:bot.game:vikdem37 lost the game on round 1 at 2025-07-17 18:45:37
INFO:aiogram.event:Update id=191007667 is handled. Duration 1224 ms by bot id=5771726025
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 3.654993 seconds and try again... (tryings = 5, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 1.380226 seconds and try again... (tryings = 1, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 4.624157 seconds and try again... (tryings = 6, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 1.775378 seconds and try again... (tryings = 2, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 5.031133 seconds and try again... (tryings = 7, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 2.245457 seconds and try again... (tryings = 3, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 4.766443 seconds and try again... (tryings = 8, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 2.956678 seconds and try again... (tryings = 4, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 4.944949 seconds and try again... (tryings = 9, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 3.990501 seconds and try again... (tryings = 5, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 5.035672 seconds and try again... (tryings = 10, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 5.123567 seconds and try again... (tryings = 6, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 5.041635 seconds and try again... (tryings = 11, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 4.931374 seconds and try again... (tryings = 7, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 4.988423 seconds and try again... (tryings = 12, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 4.861673 seconds and try again... (tryings = 8, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 4.953222 seconds and try again... (tryings = 13, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 5.066407 seconds and try again... (tryings = 9, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 4.985569 seconds and try again... (tryings = 14, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 5.035084 seconds and try again... (tryings = 10, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 4.973677 seconds and try again... (tryings = 15, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 5.021761 seconds and try again... (tryings = 11, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 5.085431 seconds and try again... (tryings = 16, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 4.921581 seconds and try again... (tryings = 12, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 4.942064 seconds and try again... (tryings = 17, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 5.019817 seconds and try again... (tryings = 13, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 5.048585 seconds and try again... (tryings = 18, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 5.073382 seconds and try again... (tryings = 14, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 4.955084 seconds and try again... (tryings = 19, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 5.069674 seconds and try again... (tryings = 15, bot id = 5771726025)
ERROR:aiogram.dispatcher:Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
WARNING:aiogram.dispatcher:Sleep for 4.985884 seconds and try again... (tryings = 20, bot id = 5771726025)
INFO:aiogram.dispatcher:Connection established (tryings = 21, bot id = 5771726025)
INFO:aiogram.event:Update id=191007668 is not handled. Duration 1 ms by bot id=5771726025
ERROR:aiogram.event:Cause exception while process update id=191007668 by bot id=5771726025
NameError: name 'flavorcarryover' is not defined
Traceback (most recent call last):
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/bot/middlewares.py", line 18, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/app/bot/game.py", line 96, in begin_again
    for i in flavorcarryover:
             ^^^^^^^^^^^^^^^
NameError: name 'flavorcarryover' is not defined
INFO:aiogram.event:Update id=191007669 is handled. Duration 540 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007670 is handled. Duration 5514 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007671 is handled. Duration 3197 ms by bot id=5771726025
INFO:bot.game:vikdem37 lost the game on round 2 at 2025-07-17 15:49:16
INFO:aiogram.event:Update id=191007672 is handled. Duration 1455 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007673 is handled. Duration 3770 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007674 is handled. Duration 3378 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007675 is handled. Duration 3374 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007676 is handled. Duration 3253 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007677 is handled. Duration 337 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007678 is handled. Duration 3191 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007679 is handled. Duration 3217 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007680 is handled. Duration 3346 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007681 is handled. Duration 5191 ms by bot id=5771726025
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 429 Too Many Requests"
INFO:openai._base_client:Retrying request to /responses in 0.462592 seconds
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 429 Too Many Requests"
INFO:openai._base_client:Retrying request to /responses in 0.762438 seconds
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 429 Too Many Requests"
ERROR:bot.game:Phone a friend AI error raised: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
INFO:aiogram.event:Update id=191007682 is handled. Duration 28271 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007683 is handled. Duration 3311 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007684 is handled. Duration 3563 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007685 is handled. Duration 3198 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007686 is handled. Duration 3223 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007687 is handled. Duration 3281 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007688 is handled. Duration 3184 ms by bot id=5771726025
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 429 Too Many Requests"
INFO:openai._base_client:Retrying request to /responses in 0.455097 seconds
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 429 Too Many Requests"
INFO:openai._base_client:Retrying request to /responses in 0.873070 seconds
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 429 Too Many Requests"
ERROR:bot.game:Ask the audience AI error raised: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
INFO:aiogram.event:Update id=191007689 is handled. Duration 26097 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007690 is handled. Duration 7253 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007691 is handled. Duration 5198 ms by bot id=5771726025
INFO:bot.game:vikdem37 won the game at 2025-07-17 15:53:30
INFO:aiogram.event:Update id=191007692 is not handled. Duration 158 ms by bot id=5771726025
ERROR:aiogram.event:Cause exception while process update id=191007692 by bot id=5771726025
IntegrityError: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "stats_pkey"
DETAIL:  Key (name)=(vikdem37) already exists.

[SQL: INSERT INTO stats (name, correctcount, result, creationdate) VALUES (%(name)s, %(correctcount)s, %(result)s, %(creationdate)s)]
[parameters: {'name': 'vikdem37', 'correctcount': 15, 'result': 'win', 'creationdate': '2025-07-17 15:53:30'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "/usr/local/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "stats_pkey"
DETAIL:  Key (name)=(vikdem37) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/bot/middlewares.py", line 18, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/app/bot/game.py", line 335, in q_response
    await db_operations.stats_up(username, 15, 'win')
  File "/app/bot/db_operations.py", line 20, in stats_up
    conn.execute(stat)
    ~~~~~~~~~~~~^^^^^^
  File "/usr/local/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/usr/local/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/usr/local/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.IntegrityError: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "stats_pkey"
DETAIL:  Key (name)=(vikdem37) already exists.

[SQL: INSERT INTO stats (name, correctcount, result, creationdate) VALUES (%(name)s, %(correctcount)s, %(result)s, %(creationdate)s)]
[parameters: {'name': 'vikdem37', 'correctcount': 15, 'result': 'win', 'creationdate': '2025-07-17 15:53:30'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.event:Update id=191007693 is handled. Duration 377 ms by bot id=5771726025
INFO:bot.game:vikdem37 lost the game on round 1 at 2025-07-17 15:56:48
INFO:aiogram.event:Update id=191007695 is not handled. Duration 312 ms by bot id=5771726025
ERROR:aiogram.event:Cause exception while process update id=191007695 by bot id=5771726025
IntegrityError: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "stats_pkey"
DETAIL:  Key (name)=(vikdem37) already exists.

[SQL: INSERT INTO stats (name, correctcount, result, creationdate) VALUES (%(name)s, %(correctcount)s, %(result)s, %(creationdate)s)]
[parameters: {'name': 'vikdem37', 'correctcount': 0, 'result': 'loss', 'creationdate': '2025-07-17 15:56:48'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "/usr/local/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "stats_pkey"
DETAIL:  Key (name)=(vikdem37) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/bot/middlewares.py", line 18, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/app/bot/game.py", line 356, in q_response
    await loss_response(callback, state, round, username)
  File "/app/bot/game.py", line 154, in loss_response
    await db_operations.stats_up(username, qindex-1, 'loss')
  File "/app/bot/db_operations.py", line 20, in stats_up
    conn.execute(stat)
    ~~~~~~~~~~~~^^^^^^
  File "/usr/local/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/usr/local/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/usr/local/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.IntegrityError: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "stats_pkey"
DETAIL:  Key (name)=(vikdem37) already exists.

[SQL: INSERT INTO stats (name, correctcount, result, creationdate) VALUES (%(name)s, %(correctcount)s, %(result)s, %(creationdate)s)]
[parameters: {'name': 'vikdem37', 'correctcount': 0, 'result': 'loss', 'creationdate': '2025-07-17 15:56:48'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
INFO:aiogram.event:Update id=191007694 is handled. Duration 5510 ms by bot id=5771726025
INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.event:Update id=191007696 is handled. Duration 317 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007697 is handled. Duration 5391 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007698 is handled. Duration 3217 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007699 is handled. Duration 3362 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007700 is handled. Duration 3321 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007701 is handled. Duration 3432 ms by bot id=5771726025
INFO:bot.game:vikdem37 lost the game on round 5 at 2025-07-17 15:59:03
INFO:aiogram.event:Update id=191007702 is not handled. Duration 237 ms by bot id=5771726025
ERROR:aiogram.event:Cause exception while process update id=191007702 by bot id=5771726025
IntegrityError: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "stats_pkey"
DETAIL:  Key (name)=(vikdem37) already exists.

[SQL: INSERT INTO stats (name, correctcount, result, creationdate) VALUES (%(name)s, %(correctcount)s, %(result)s, %(creationdate)s)]
[parameters: {'name': 'vikdem37', 'correctcount': 4, 'result': 'loss', 'creationdate': '2025-07-17 15:59:03'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "/usr/local/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "stats_pkey"
DETAIL:  Key (name)=(vikdem37) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/bot/middlewares.py", line 18, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/app/bot/game.py", line 356, in q_response
    await loss_response(callback, state, round, username)
  File "/app/bot/game.py", line 154, in loss_response
    await db_operations.stats_up(username, qindex-1, 'loss')
  File "/app/bot/db_operations.py", line 20, in stats_up
    conn.execute(stat)
    ~~~~~~~~~~~~^^^^^^
  File "/usr/local/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/usr/local/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/usr/local/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.IntegrityError: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "stats_pkey"
DETAIL:  Key (name)=(vikdem37) already exists.

[SQL: INSERT INTO stats (name, correctcount, result, creationdate) VALUES (%(name)s, %(correctcount)s, %(result)s, %(creationdate)s)]
[parameters: {'name': 'vikdem37', 'correctcount': 4, 'result': 'loss', 'creationdate': '2025-07-17 15:59:03'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
INFO:aiogram.dispatcher:Start polling
INFO:aiogram.dispatcher:Run polling for bot @testsubnum37_bot id=5771726025 - 'Test subject #37 bot'
INFO:aiogram.event:Update id=191007703 is handled. Duration 468 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007704 is handled. Duration 5374 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007705 is handled. Duration 3252 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007706 is handled. Duration 3185 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007707 is handled. Duration 3616 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007708 is handled. Duration 3295 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007709 is handled. Duration 3352 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007710 is handled. Duration 3274 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007711 is handled. Duration 142 ms by bot id=5771726025
INFO:bot.game:vikdem37 lost the game on round 7 at 2025-07-17 16:11:26
INFO:aiogram.event:Update id=191007712 is handled. Duration 2462 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007713 is handled. Duration 3548 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007714 is handled. Duration 3378 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007715 is handled. Duration 3300 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007716 is handled. Duration 3454 ms by bot id=5771726025
INFO:bot.game:vikdem37 lost the game on round 4 at 2025-07-17 16:11:52
INFO:aiogram.event:Update id=191007717 is handled. Duration 1252 ms by bot id=5771726025
INFO:aiogram.event:Update id=191007718 is handled. Duration 3397 ms by bot id=5771726025
INFO:bot.game:vikdem37 lost the game on round 1 at 2025-07-17 16:12:07
INFO:aiogram.event:Update id=191007719 is handled. Duration 1311 ms by bot id=5771726025
